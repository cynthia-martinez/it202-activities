<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Activity 4.3</title>
  </head>

  <body>
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="card-link">Card link</a>
        <a href="#" class="card-link">Another link</a>
      </div>
    </div>
  
    <script>
      let apiEndpoint = "https://data.cityofchicago.org/resource/xzkq-xp2w.json?$LIMIT=10";
      
      fetch(apiEndpoint)
      .then(response => {return response.json()})
      .then((json) => {
        console.log(json)
        for (let record of json) {
          let clone = document.querySelector(".card").cloneNode(true);
          clone.classList.remove("card");
          clone.querySelector(".card-title").textContent = record["name"];
          clone.querySelector(".card-subtitle").textContent = record["department"];
          clone.querySelector(".card-text").textContent = record["annual_salary"];
          document.body.append(clone);
        }
      })
      .catch(err => alert (err))
    </script>
  </body>

</html>
